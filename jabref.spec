Name: jabref
License: GPL
Group: Productivity/Publishing
Summary: JabRef is an open source bibliography reference manager. 
URL: http://jabref.sourceforge.net/
Packager: Lars Vilhuber <lars.vilhuber@cornell.edu>
Version: 2.1
Release: 0
Source0: http://superb.dl.sourceforge.net/sourceforge/jabref/JabRef-%{version}.jar
Source1: jabref-extra.tgz
BuildRoot: %{_tmppath}/%{name}-%{version}-build 
BuildArch: noarch
Requires: java >= 1.4.2 bash


%description
JabRef is an open source bibliography reference manager. The native file format used by JabRef is BibTeX, the standard LaTeX bibliography format. JabRef runs on the Java VM (version 1.4.2 or greater), and should work equally well on Windows, Linux and Mac OS X.

BibTeX is an application and a bibliography file format written by Oren Patashnik and Leslie Lamport for the LaTeX document preparation system. General information about BibTeX.

Bibliographies generated by LaTeX and BibTeX from a BibTeX file can be formatted to suit any reference list specifications through the use of different BibTeX style files. We support this initiative to build a searchable database of BibTeX style files, organized by journal names: LaTeX bibliography style database.


%prep
[[ -d jabref ]] && rm -r jabref
mkdir jabref
cd jabref
cp %{SOURCE0} .
# also extract the extras
tar xzvf %{SOURCE1}

%build


%install
# the actual application
cd jabref
install -d -m 755 %buildroot/opt/jabref/
install -p -m 755  JabRef-%{version}.jar %buildroot/opt/jabref/Jabref.jar
install -p -m 755 -D *png %buildroot/opt/jabref
# the link
install -d -m 755 %buildroot/usr/local/bin
install -p -m 755 jabref %buildroot/usr/local/bin/
# get the menu entry right
install -d -m 755 %buildroot/usr/share/applications
install -p -m 755 jabref.desktop %buildroot/usr/share/applications/jabref.desktop

#------------------------------------------------
# after uninstalling, clean up any leftover files
#------------------------------------------------
%postun

%clean


%files
%doc 
/opt/jabref/Jabref.jar
/opt/jabref/jabref-small.png
/opt/jabref/jabref.png
/usr/local/bin/jabref
/usr/share/applications/jabref.desktop

%changelog
* Thu Jan 26 2006 vilhuber@lservices
- First jabref rpm
